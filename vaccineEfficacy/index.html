<!DOCTYPE html>
<html>
    <head>
        <title>Vaccine Efficacy</title>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!--favicon-->
        <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
        <link rel="stylesheet" href="dceg.css" />
        <link rel="stylesheet" href="vaccineEfficacy.css" />
        <link rel="stylesheet" href="sampleSize.css" />
        <link rel="stylesheet" href="riskStratAdvanced.css" />
    </head>

    <body>
        <article id="nci_logo"></article>
        <div class="container" role="main">
            <!-- Banners -->
            <div id="banners">
                <div>
                    <a href="/">
                        <img id="dceg-logo" src="common/images/DCEG-BB-HREB.png" height="40" alt="DCEG" title="DCEG"></a>
                </div>
            </div>

            <!--Main in Main -->
            <div id="wrapper">
                <ul class="nav nav-tabs" id="myTab">
                    <li class="active">
                        <a href="#homeTab">Home</a>
                    </li>
                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-expanded="false">
                            Biomarker
                            <span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu" role="menu">
                            <li>
                                <a href="#sampleSizeTab">SampleSize</a>
                            </li>
                            <li>
                                <a href="#riskStratAdvancedTab">RiskStratAdvanced</a>
                            </li>
                        </ul>
                    </li>
                    <li> 
                        <a href="#vaccineEfficacyTab">VaccineEfficacy</a>
                    </li>
                    <li>
                        <a href="#faqTab">FAQ</a>
                    </li>
                </ul>
                <div class="tab-content">
                    <!-- HOME Tab -->
                    <div id="homeTab" class="tab-pane fade in active">
                        The Division of Cancer Epidemiology and Genetics (DCEG) is a research program of the National Cancer Institute (NCI), one of the National Institutes of Health (NIH). The Division is the world’s most comprehensive cancer epidemiology research group. Its renowned epidemiologists, geneticists, and biostatisticians conduct population and multidisciplinary research to discover the genetic and environmental determinants of cancer and new approaches to cancer prevention. The Division’s research impacts public health policy in the United States and around the world.
                        <br>
                        <br>
                        <a href="#" onclick="activateTab('sampleSizeTab');">Run SampleSize</a>
                        <br>
                        <a href="#" onclick="activateTab('riskStratAdvancedTab');">Run riskStratAdvanced</a>
                        <br>
                        <a href="#" onclick="activateTab('vaccineEfficacyTab');">Run VaccineEfficacy</a>                    
                    </div>

                <!-- SampleSize Tab -->
                <div id="sampleSizeTab" class="tab-pane fade">                     
                    <div id='sampleSize'>
                        <br>
                        <h2 class="title" align="center">Power and Sample Size for Biomarker Case Control Studies</h2>
                        <div id="helpGlossaryLinks_ss">
                            <a href="#" onclick="openHelpWindow('common/html/meansToRiskGlossary.html')">Glossary</a>
                        </div>
                        <br>
                        <form id="ss">
                            <div style='clear: left; padding-top: 10px;'>
                                <table class="tablevars">
                                    <tr>
                                        <td>
                                            <label for="independent_dropdown_ss">Independent Variable</label>
                                        </td>
                                        <td>
                                            <select id="independent_dropdown_ss" name="independent_dropdown_ss" width="100%">
                                                <option value="k" selected>k</option>
                                            </select>
                                        </td>
                                        <td>
                                            <label for="independent_ss">
                                                <input type="text"
                    size="30" id="independent_ss" pattern="([0-9],[0-9])"
                    title="A comma separated pair that refers to the minimum and maximum respectively"
                    title="A comma separated pair that refers to the minimum and maximum respectively"
                    value="0,1" class="fontnormal"></label>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <label for="contour_dropdown_ss">Contour</label>
                                        </td>
                                        <td>
                                            <select id="contour_dropdown_ss" name="contour_dropdown_ss" onchange="lock_fixed_options();">
                                                <option value="" selected></option>
                                                <option value="specificity">Specificity</option>
                                                <option value="sensitivity">Sensitivity</option>
                                            </select>
                                        </td>
                                        <td>
                                            <label for="contour_ss">
                                                <input type="text" size="30"
                    id="contour_ss" pattern="([0-9,. \-])+"
                    title="An array of floating point numbers separated by commas.  Numbers must be between 0 and 1"
                    title="An array of floating point numbers separated by commas  Numbers must be between 0 and 1"
                     class="fontnormal"></label>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <label for="fixed_dropdown_ss">Fixed Values</label>
                                        </td>
                                        <td>
                                            <select id="fixed_dropdown_ss" name="fixed_dropdown_ss">
                                                <option value="" selected></option>
                                                <option value="specificity" disabled="disabled">Specificity</option>
                                                <option value="sensitivity" disabled="disabled">Sensitivity</option>

                                            </select>
                                        </td>
                                        <td>
                                            <label for="fixed_ss">
                                                <input type="text" size="30"
                    id="fixed_ss" pattern="([0-9,. \-])+"
                    title="An array of floating point numbers separated by commas. Numbers must be between 0 and 1"
                     class="fontnormal"></label>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <label for="prevalence">Prevalence</label>
                                        </td>
                                        <td>
                                            <label for="prevalence">
                                                <input type="text" id="prevalence" value="0.001"
                    title="A floating point number between 0 and 1"
                     class="fontnormal"  required></label>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <label for="n_value">N</label>
                                        </td>
                                        <td>
                                            <label for="n_value">
                                                <input type="text" 
                    id="n_value" value="1" pattern="(^[0-9]$)+"
                    title="Number must be an integer"
                     class="fontnormal" required></label>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td class="spacer">
                                            <button class="post" type="submit" disabled>Calculate</button>
                                            &nbsp;
                                            <button class="reset">Reset</button>

                                        </td>
                                        <td class="spacer">&nbsp;</td>
                                        <td class="example">
                                            <a id="add-test-data_ss" title="Populate variables with working example" href="#">Example</a>
                                        </td>
                                    </tr>

                                </table>
                                <div id="specificity_val" class="dom_valref"></div>
                                <div id="sensitivity_val" class="dom_valref"></div>
                                <div id="fixed_flag" class="dom_valref"></div>
                                <div id="randomnumber" class="dom_valref"></div>

                            </div>
                        </form>
                        <div id="spinner">
                            <img src="common/images/loading.gif" class="loadingImg">
                            <span id="spinnerText">Calculating</span>
                        </div>
                        <div class="col-sm-7 col-sm-offset-2" id="message" style="display: none;">
                            <div class="panel panel-danger">
                                <div class="panel-heading"></div>
                                <div class="panel-body" id="message-content"></div>
                            </div>
                        </div>
                        <br />

                        <div id="output_graph"></div>
                    </div>                    
                </div>
                <!-- sampleSize $ --> 

                <!-- riskStratAdvanced Tab -->
                <div id="riskStratAdvancedTab" class="tab-pane fade">                    
                    <div id='riskStratAdvanced'>                        
                            <br>
                            <h2 align="center" class="title">
                                Risk Stratification Advanced Analysis Options
                            </h2>
                            <div id="helpGlossaryLinks_rsa">                                
                                <a href="#" onclick="openHelpWindow('riskStratAdvanced_help.html')">Help</a>
                                <a href="#" onclick="openHelpWindow('common/html/meansToRiskGlossary.html')">Glossary</a>
                            </div>
                            <br>
                            <form>
                            <table>
                                <tr>
                                    <td>
                                        <label for="independent_dropdown_rsa">Independent Variable</label>
                                    </td>
                                    <td>
                                        <select id="independent_dropdown_rsa" class="rsa" name="independent_dropdown_rsa">
                                            <option value="" selected></option>
                                            <option value="specificity">Specificity</option>
                                            <option value="prevalence">Prevalence</option>
                                            <option value="ppv">PPV</option>
                                            <option value="delta">Delta</option>
                                            <option value="sensitivity">Sensitivity</option>
                                            <option value="cnpv">cNPV</option>
                                        </select>
                                    </td>
                                    <td>
                                        <label for="independent_rsa">
                                            <input type="text" class="rsa" 
                            size="30" id="independent_rsa" pattern="([0-9,. \-])+"
                            title="An array of floating point numbers seperated by commas."
                            title="An array of floating point numbers seperated by commas"
                            required></label>
                                    </td>
                                    <td>
                                        <div id="indDef"></div>
                                    </td>
                                    <td>
                                        <span class="variable-example"></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label for="contour_dropdown_rsa">Contour</label>
                                    </td>
                                    <td>
                                        <select id="contour_dropdown_rsa" class="rsa" name="contour_dropdown_rsa">
                                            <option value="" selected></option>
                                            <option value="ppv">PPV</option>
                                            <option value="prevalence">Prevalence</option>
                                            <option value="specificity">Specificity</option>
                                            <option value="delta">Delta</option>
                                            <option value="sensitivity">Sensitivity</option>
                                            <option value="cnpv">cNPV</option>
                                        </select>
                                    </td>
                                    <td>
                                        <label for="contour_rsa">
                                            <input type="text" size="30" class="rsa" 
                            id="contour_rsa" pattern="([0-9,. \-])+"
                            title="An array of floating point numbers seperated by commas."
                            title="An array of floating point numbers seperated by commas"
                            required></label>
                                    </td>
                                    <td>
                                        <div id="contourDef"></div>
                                    </td>
                                    <td>
                                        <span class="variable-example"></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <label for="fixed_dropdown_rsa">Fixed Values</label>
                                    </td>
                                    <td>
                                        <select id="fixed_dropdown_rsa" class="rsa" name="fixed_dropdown_rsa">
                                            <option value="" selected></option>
                                            <option value="prevalence">Prevalence</option>
                                            <option value="delta">Delta</option>
                                            <option value="ppv">PPV</option>
                                            <option value="specificity">Specificity</option>
                                            <option value="sensitivity">Sensitivity</option>
                                            <option value="cnpv">cNPV</option>
                                        </select>
                                    </td>
                                    <td>
                                        <label for="fixed_rsa">
                                            <input type="text" size="30" class="rsa" 
                            id="fixed_rsa" pattern="([0-9,. \-])+"
                            title="An array of floating point numbers seperated by commas"
                            required></label>
                                    </td>
                                    <td>
                                        <div id="fvDef"></div>
                                    </td>
                                    <td>
                                        <span class="variable-example"></span>
                                    </td>
                                </tr>
                                <tr>                                    
                                    <td colspan="2">
                                        <button id="calculate_rsa" type="submit" disabled>Calculate</button>
                                        <button id="reset_rsa" type="reset" >Reset</button>
                                    </td>
                                    <td align="right">
                                        <a id="add-test-data_rsa" class="example" href="#" title="Populate variables with a working example">Example</a>
                                    </td>   
                                    <td colspan="2"></td>                            
                                </tr>
                            </table>
                            <br />
                            <div id="status-bar_rsa">Status Bar</div>
                        </form>
                        <br />
                        <div id="dialog-confirm" title="Rules Violation">
                            <p>
                                <span class="ui-icon ui-icon-alert" style="float: left; margin: 0 7px 20px 0;"></span>
                                <div>One or more of the following rules have been violated:</div>
                                <ul>
                                    <li class="rule rule1">
                                        Specificity, Sensitivity, PPV, cNPV, and Prevalence can only be 0 to 1
                                    </li>
                                    <li class="rule rule2" style="font-weight: bold;">
                                        Delta can be 0 to 5
                                    </li>
                                    <li class="rule rule3">cNPV &lt; Prevalence</li>
                                    <li class="rule rule3">
                                        For arrays: max(cNPV) &lt; min(Prevalence)
                                    </li>
                                    <li class="rule rule4">Prevalence &lt; PPV</li>
                                    <li class="rule rule4">For arrays: max(prev) &lt; min(PPV)</li>
                                    <li class="rule rule5">Sensitivity+Specificity-1 &gt; 0</li>
                                </ul>
                                <span style="font-weight: bold;">
                                    Do you wish to continue with calculation anyway?
                                </span>
                            </div>
                            <div id='output'></div>
                            <div id='output1'></div>
                        </div>                         
                    </div>
                    <!-- riskStratAdvanced $ -->

                    <!-- VaccineEfficacy Tab -->
                    <div id="vaccineEfficacyTab" class="tab-pane fade">
                        <!-- VaccineEfficacy ^ -->
                        <div id='vaccineEfficacy'>
                            <form>
                                <br>
                                <h2 align="center" class="title">
                                    Vaccine Efficacy (Power Calculation)
                                </h2>                            
                                <br>
                                <table>
                                    <tr>
                                        <td>
                                            <label for="independent_dropdown_ve">Independent Variable</label>
                                        </td>
                                        <td>
                                            <select id="independent_dropdown_ve" class="ve" name="independent_dropdown_ve">
                                                <option value="" selected></option>
                                                <option value="VE">Vaccine Efficacy vs Unexposed (0 Dose)</option>
                                                <option value="p1">Unvaccinated Standard Attack Rate</option>
                                                <option value="p2">Experimental Attack Rate</option>
                                                <option value="r">Ratio</option>                                            
                                            </select>
                                        </td>
                                        <td>
                                            <input type="text" class="ve" 
                                                    id="independent_ve" pattern="([0-9,. \-])+"
                                                   title="An array of floating point numbers seperated by commas."
                                                   title="An array of floating point numbers seperated by commas"
                                                   required>
                                        </td>
                                        <td>
                                            <div id="indDef_ve"></div>
                                        </td>
                                        <td>
                                            <span class="variable-example"></span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <label for="contour_dropdown_ve">Contour</label>
                                        </td>
                                        <td>
                                            <select id="contour_dropdown_ve" class="ve" name="contour_dropdown_ve">
                                                <option value="" selected></option>
                                                <option value="VE">Vaccine Efficacy vs Unexposed (0 Dose)</option>
                                                <option value="p1">Unvaccinated Standard Attack Rate</option>
                                                <option value="p2">Experimental Attack Rate</option>
                                                <option value="r">Ratio</option>
                                            </select>
                                        </td>
                                        <td>
                                            <input type="text"  class="ve" 
                                                   id="contour_ve" pattern="([0-9,. \-])+"
                                                   title="An array of floating point numbers seperated by commas."
                                                   title="An array of floating point numbers seperated by commas"
                                                   required>
                                        </td>
                                        <td>
                                            <div id="contourDef_ve"></div>
                                        </td>
                                        <td>
                                            <span class="variable-example"></span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <label for="fixed_dropdown_ve">Fixed Values</label>
                                        </td>
                                        <td>
                                            <select id="fixed_dropdown_ve" class="ve" name="fixed_dropdown_ve">
                                                <option value="" selected></option>
                                                <option value="N">Total Sample Size</option>
                                                <option value="power">Power</option>                                            
                                            </select>
                                        </td>
                                        <td>                                            
                                            <input type="text" class="ve" 
                                                   id="fixed_ve" pattern="([0-9,. \-])+"
                                                   title="An array of floating point numbers seperated by commas"
                                                   required>
                                        </td>
                                        <td>
                                            <div id="fvDef_ve"></div>
                                        </td>
                                        <td>
                                            <span class="variable-example"></span>
                                        </td>
                                    </tr>  
                                    <tr> <!-- Parameter -->
                                        <td>
                                            <label></label>
                                        </td> 
                                        <td>
                                            Specified Relative Risk (R0)
                                        </td>                                       
                                        <td colspan="3">                                           
                                            <input type="text" id="r0_ve" class="ve" value="" required>
                                        </td> 
                                    </tr> 
                                    <tr> <!-- Parameter -->
                                        <td>
                                            <label>Parameters</label>
                                        </td> 
                                        <td>
                                            Significance Level (alpha)
                                        </td>                                       
                                        <td colspan="3">                                           
                                            <input type="text" id="alpha_ve" class="ve" value="" required>
                                        </td> 
                                    </tr> 
                                    <tr> <!-- Parameter -->
                                        <td>
                                        </td> 
                                        <td>
                                            Proportion of the Total Sample from 1-Dose (k)
                                        </td>                                       
                                        <td colspan="3">                                           
                                            <input type="text" id="k_ve" class="ve" value="" required>
                                        </td> 
                                    </tr>                                
                                    <tr> <!-- Buttons -->
                                        <td colspan="2">     
                                            <button id="calculate_ve" class="btn btn-default btn-sm" type="submit" disabled>Calculate</button>
                                            <button id="reset_ve" class="btn btn-default btn-sm" type="reset">Reset</button>   
                                            <div id="ProcessingDiv_ve"><img class="loading" src="common/images/loading.gif"> Processing...</div>
                                        </td>                                       
                                        <td align="right">                                                                                   
                                            <a id="add-test-data_ve" class="example" href="#" title="Populate variables with a working example">Example</a>                                            
                                        </td>
                                        <td colspan="2"></td>
                                    </tr>                                
                                </table>
                            </form>

                            <div id="result_plot_ve"></div>
                            <div><hr/><pre id="status_bar_ve">Initialized.</pre></div>                            
                        </div>
                        <!-- vaccineEfficacy $ -->
                    </div>


                    <!-- FAQ Tab -->
                    <div id="faqTab" class="tab-pane fade">
                        <h2>FAQ</h2>                  
                        <h4>What can I do to improve the results of this project?</h4>
                        If you have job descriptions that have been coded by an expert coder and you are willing to provide them to us, we will be happy to retrain our models. If the data are protected, a data use agreement may be possible. Your institute may provide guidance on data use agreements.
                        <br>
                        <br>
                        <h4>What about HIPAA concerns?</h4>
                        Our system is not HIPAA compliant. We do not require any Personal Identifying Information (PII), and our input data format does not accept identifiers in order to help prevent you from uploading PII. We make no attempt to screen your data for PII. Please check you input file for PII before you upload you data onto our server.
                        <br>
                        <br>
                        <h4>What are this project scores?</h4>
                        Our classifier uses logistic regression to calculate that log-odds that an expert reviewer would have selected a SOC 2010 code. The SOCcer score is the transformed log-odds (to a probability). In general the higher the SOCcer score, the greater the probability of matching an expert review. Please see our paper for more details in the relationship between SOCcer score and probability of matching. Some dataset are more difficult to classify than others. The SOCcer score distribution provides an overview of how well SOCcer performed on your data set.                    
                    </div>
                </div>
            </div>
        </div>

        <article id="nci_foot"></article>

        <script type="text/javascript" src="http://code.jquery.com/jquery-2.1.3.min.js"></script>
        <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
        <!--<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>        
        <script type="text/javascript" src="//cdn.datatables.net/1.10.2/js/jquery.dataTables.min.js"></script>
        -->
        <script type="text/javascript" src="common/js/meansToRiskGlossary.js"></script>
        <script type="text/javascript" src="dceg.js"></script>
        <script type="text/javascript" src="vaccineEfficacy.js"></script>
        <script type="text/javascript" src="sampleSize.js"></script>
        <script type="text/javascript" src="riskStratAdvanced.js"></script>

    </body>
</html>
