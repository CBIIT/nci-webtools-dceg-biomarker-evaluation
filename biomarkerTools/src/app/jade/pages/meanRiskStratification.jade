#meanRiskStratification.tab-pane.fade(role='tabpanel')
  h3(title="Mean Risk Stratification tool") Mean Risk Stratification
  #helpGlossaryLinks
    a.goToHelp(href="#help_meanRiskStratification") Help
    a.goToGlossary(href="#") Glossary
  div
    form#markers.input.panel-group
      .panel.panel-default.marker-1
        .panel-heading.text-center.bold Biomarker #1
        .panel-body
          label(for='name-input') Biomarker Name
          input#name-input.input(type='text', name='name-input', maxlength='30', pattern='^[a-zA-Z0-9_- ]*$')
        .panel-heading(data-toggle='collapse', data-parent='.marker-1', data-target='#marker-1-option-1')
          .glyphicon.glyphicon-chevron-down
          span Input: 2x2 Table
        #marker-1-option-1.panel-collapse.collapse.in
          .option-1.panel-body.table_container
            .table_row
              .table_data.emptyblock
              #prob_m.table_data.bold.define(header="prob_m") Marker Positive (M+)
              #m_neg.table_data.bold.define(header="m_neg") Marker Negative (M-)
            .table_row
              #prob_d.table_data.bold.define Disease Positive (D+)
              .table_data
                label.sr-only(for='a') A
                input#a.input(name='a', type='number', maxlength='30')
              .table_data
                label.sr-only(for='b') B
                input#b.input(name='b', type='number', maxlength='30')
            .table_row
              #d_neg.table_data.bold.define Disease Negative (D-)
              .table_data
                label.sr-only(for='c') C
                input#c.input(name='c', type='number', maxlength='30')
              .table_data
                label.sr-only(for='d') D
                input#d.input(name='d', type='number', maxlength='30')
        .panel-heading(data-toggle='collapse', data-parent='.marker-1', data-target='#marker-1-option-2')
          .glyphicon.glyphicon-chevron-down
          span Input: PPV, NPV, Sensitivity, Specificity, etc.
        #marker-1-option-2.panel-collapse.collapse
          .option-2.panel-body
            div
              label(for='sampsize') Sample Size
              input.input#sampsize(name='sampsize', type='number', maxlength='30', min='1')
            .option-2.table_container
              .table_row
                .table_data.bold(title='Parameter Type Column', header="Parameter Type Column") Parameter
                .table_data.bold(title='Parameter Proportion Column', header="Parameter Proportion Column") Proportion
              .table_row(row='0')
                .table_data
                  label.sr-only(for="param_1") Parameter 1 Selections
                  select#param_1.input(name='param_1')
                    option(value='ppv') PPV
                    option(value='sens') Sensitivity
                  span.dd.define
                    img(src="/common/images/info.png", height="20", width="20",alt="pop up definition for parameter 1 dropdown value")
                .table_data
                    label.sr-only(for="param_1_value") Parameter 1 Selections
                    input#param_1_value.input(type='number', name='param_1', min='0', max='1', maxlength='30', step='0.0001')
              .table_row(row='1')
                .table_data
                  label.sr-only(for="param_2") Parameter 2 Selections
                  select#param_2.input(name='param_2')
                    option(value='npv') NPV
                    option(value='spec') Specificity
                  span.dd.define
                    img(src="/common/images/info.png", height="20", width="20",alt="pop up definition for parameter 2 dropdown value")
                .table_data
                  label.sr-only(for="param_2_value") Parameter 2 Selections
                  input#param_2_value.input(type='number', name='param_2', min='0', max='1', maxlength='30', step='0.0001')
              .table_row(row='2')
                .table_data
                  label.sr-only(for="param_3") Parameter 3 Selections
                  select#param_3.input(name='param_3')
                    option(value='prob_m') Marker Positivity (P(M+))
                    option(value='prob_d') Disease Prevalence (P(D+))
                  span.dd.define
                    img(src="/common/images/info.png", height="20", width="20",alt="pop up definition for parameter 3 dropdown value")
                .table_data
                  label.sr-only(for="param_3_value") Parameter 3 Selections
                  input#param_3_value.input(type='number', name='param_3', min='0', max='1', maxlength='30', step='0.0001')
    #control-group
      div
        .pull-left
          button#add-marker
            span.glyphicon.glyphicon-plus-sign.emptyblock(alt='Add(+)', title='Add biomarker')
            span Add
          button#delete-marker(title='Delete biomarker')
            span.glyphicon.glyphicon-minus-sign.emptyblock(alt='Delete(-)')
            span Delete
          button#reset(type='reset') Reset
          button#calculate(type='button') Calculate
        .pull-right
          div
            a#test1(href='#', title='Populate 1 biomarker using test data') Example 1
          div
            a#test2(href='#', title='Populate 1 biomarker using test data') Example 2
  div
    include ../partials/loader.jade
    #results.hide
      #paramTable.table_container
        .table_row
          .table_data.bold(header="Calculations") Calculations
          .table_data.bold.bm_1.marker_name(header="Calculations for Biomarker 1", title="Calculations for Biomarker 1") (Biomarker Title Placeholder)
          .table_data.bold.bm_2.marker_name(header="Calculations for Biomarker 2", title="Calculations for Biomarker 2") (Biomarker Title Placeholder)
          .table_data.bold.bm_3.marker_name(header="Calculations for Biomarker 3", title="Calculations for Biomarker 3") (Biomarker Title Placeholder)
        .table_row
          .table_data.concern.define Concern = PPV-P(D+)
          .table_data.concern_result.output.bm_1
          .table_data.concern_result.output.bm_2
          .table_data.concern_result.output.bm_3
        .table_row
          .table_data.reassurance.define Reassurance = P(D+)-cNPV
          .table_data.reassurance_result.output.bm_1
          .table_data.reassurance_result.output.bm_2
          .table_data.reassurance_result.output.bm_3
        .table_row
          .table_data.q_sens.define Concentration = Sensitivity - P(M+)
          .table_data.q_sens_result.output.bm_1
          .table_data.q_sens_result.output.bm_2
          .table_data.q_sens_result.output.bm_3
        .table_row
          .table_data.q_spec.define Reduction = P(M+) - cSpec
          .table_data.q_spec_result.output.bm_1
          .table_data.q_spec_result.output.bm_2
          .table_data.q_spec_result.output.bm_3
        .table_row
          .table_data.mrs.define Mean Risk Stratification = 2(ad-bc)
          .table_data.mrs_result.output.bm_1
          .table_data.mrs_result.output.bm_2
          .table_data.mrs_result.output.bm_3
        .table_row
          .table_data.max_mrs.define Maximum possible MRS for a disease with this prevalence
          .table_data.max_mrs_result.output.bm_1
          .table_data.max_mrs_result.output.bm_2
          .table_data.max_mrs_result.output.bm_3
        .table_row
          .table_data.pbs.define Population Burden Stratification (PBS) = a-b
          .table_data.pbs_result.output.bm_1
          .table_data.pbs_result.output.bm_2
          .table_data.pbs_result.output.bm_3
        .table_row
          .table_data.nnr.define Number Needed to Recruit (NNR) = 1/PBS
          .table_data.nnr_result.output.bm_1
          .table_data.nnr_result.output.bm_2
          .table_data.nnr_result.output.bm_3
        .table_row
          .table_data.nns.define Number Needed to Screen (NNS) =1/RD
          .table_data.nns_result.output.bm_1
          .table_data.nns_result.output.bm_2
          .table_data.nns_result.output.bm_3
      table#calcTable.table.table-bordered.table-condensed
        .table_row
          .table_data.bold(header="Parameters") Parameters
          .table_data.bold.bm_1.marker_name(header="Parameter results for Biomarker 1", title="Parameter results for Biomarker 1") (Biomarker Title Placeholder)
          .table_data.bold.bm_2.marker_name(header="Parameter results for Biomarker 2", title="Parameter results for Biomarker 2") (Biomarker Title Placeholder)
          .table_data.bold.bm_3.marker_name(header="Parameter results for Biomarker 3", title="Parameter results for Biomarker 3") (Biomarker Title Placeholder)
        .table_row
          .table_data.test.define True Positive Fraction = a
          .table_data.d_pos_result.output.bm_1
          .table_data.d_pos_result.output.bm_2
          .table_data.d_pos_result.output.bm_3
        .table_row
          .table_data.test.define False Negative Fraction = b
          .table_data.pos_d_neg_m_result.output.bm_1
          .table_data.pos_d_neg_m_result.output.bm_2
          .table_data.pos_d_neg_m_result.output.bm_3
        .table_row
          .table_data.test.define False Positive Fraction = c
          .table_data.neg_d_pos_m_result.output.bm_1
          .table_data.neg_d_pos_m_result.output.bm_2
          .table_data.neg_d_pos_m_result.output.bm_3
        .table_row
          .table_data.test.define True Negative Fraction = d
          .table_data.m_neg_result.output.bm_1
          .table_data.m_neg_result.output.bm_2
          .table_data.m_neg_result.output.bm_3
        .table_row
          .table_data.define.prob_m Marker Positivity
          .table_data.prob_m_result.output.bm_1
          .table_data.prob_m_result.output.bm_2
          .table_data.prob_m_result.output.bm_3
        .table_row
          .table_data.prob_d.define Disease Prevalence
          .table_data.prob_d_result.output.bm_1
          .table_data.prob_d_result.output.bm_2
          .table_data.prob_d_result.output.bm_3
        .table_row
          .table_data.define.ppv Positive Predictive Value (PPV)
          .table_data.ppv_result.output.bm_1
          .table_data.ppv_result.output.bm_2
          .table_data.ppv_result.output.bm_3
        .table_row
          .table_data.cnpv.define Complement of Negative Predictive Value (cNPV)
          .table_data.c_npv_result.output.bm_1
          .table_data.c_npv_result.output.bm_2
          .table_data.c_npv_result.output.bm_3
        .table_row
          .table_data.define.sens Sensitivity
          .table_data.sens_result.output.bm_1
          .table_data.sens_result.output.bm_2
          .table_data.sens_result.output.bm_3
        .table_row
          .table_data.define.spec Specificity
          .table_data.spec_result.output.bm_1
          .table_data.spec_result.output.bm_2
          .table_data.spec_result.output.bm_3
        .table_row
          .table_data.test.define Complement of Specificity (cSpec)
          .table_data.c_spec_result.output.bm_1
          .table_data.c_spec_result.output.bm_2
          .table_data.c_spec_result.output.bm_3
        .table_row
          .table_data.test.define Relative Risk
          .table_data.rr_result.output.bm_1
          .table_data.rr_result.output.bm_2
          .table_data.rr_result.output.bm_3
        .table_row
          .table_data.test.define Risk Difference (RD)
          .table_data.r_diff_result.output.bm_1
          .table_data.r_diff_result.output.bm_2
          .table_data.r_diff_result.output.bm_3
        .table_row
          .table_data.test.define
            | Youden's Index (YI)
          .table_data.youden_result.output.bm_1
          .table_data.youden_result.output.bm_2
          .table_data.youden_result.output.bm_3
        .table_row
          .table_data.auc.define AUC = (1+YI)/2
          .table_data.auc_result.output.bm_1
          .table_data.auc_result.output.bm_2
          .table_data.auc_result.output.bm_3
